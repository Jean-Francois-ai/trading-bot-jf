2025-07-17 20:54:13,486 INFO: Début du script bot.py
2025-07-17 20:54:13,486 INFO: Importation des modules utils
2025-07-17 20:54:13,563 ERROR: Erreur connexion Alpaca : REST.__init__() got an unexpected keyword argument 'data_feed'
2025-07-17 20:54:13,563 INFO: setting up API-client for environment practice
2025-07-17 20:54:13,563 INFO: Connexion à l’API Oanda réussie.
2025-07-17 20:54:13,563 INFO: Connexion à l’API Kraken réussie.
2025-07-17 20:54:13,575 INFO: Modules utils importés avec succès
2025-07-17 20:54:13,576 INFO: Chargement des variables d’environnement
2025-07-17 20:54:13,581 INFO: Variables d’environnement chargées
2025-07-17 20:54:13,581 INFO: Vérification des variables Telegram
2025-07-17 20:54:13,581 INFO: Variables Telegram : token=7878..., channel_id=-1002755539359
2025-07-17 20:54:13,581 INFO: Initialisation du Bot Telegram
2025-07-17 20:54:13,656 INFO: Bot Telegram initialisé
2025-07-17 20:54:13,656 INFO: Lancement du bot
2025-07-17 20:54:13,657 INFO: Démarrage boucle principale
2025-07-17 20:54:13,657 INFO: Heure actuelle : 2025-07-17 20:54:13.657171, Heure pré-marché : 07:00:00
2025-07-17 21:02:51,520 INFO: Début du script bot.py
2025-07-17 21:02:51,520 INFO: Importation des modules utils
2025-07-17 21:02:51,599 INFO: Connexion à l’API Alpaca réussie.
2025-07-17 21:02:51,599 INFO: setting up API-client for environment practice
2025-07-17 21:02:51,599 INFO: Connexion à l’API Oanda réussie.
2025-07-17 21:02:51,599 INFO: Connexion à l’API Kraken réussie.
2025-07-17 21:02:51,613 INFO: Modules utils importés avec succès
2025-07-17 21:02:51,613 INFO: Chargement des variables d’environnement
2025-07-17 21:02:51,618 INFO: Variables d’environnement chargées
2025-07-17 21:02:51,618 INFO: Vérification des variables Telegram
2025-07-17 21:02:51,618 INFO: Variables Telegram : token=7878..., channel_id=-1002755539359
2025-07-17 21:02:51,618 INFO: Initialisation du Bot Telegram
2025-07-17 21:02:51,700 INFO: Bot Telegram initialisé
2025-07-17 21:02:51,700 INFO: Lancement du bot
2025-07-17 21:02:51,700 INFO: Démarrage boucle principale
2025-07-17 21:02:51,700 INFO: Début de la génération de la roadmap
2025-07-17 21:02:51,700 INFO: strategies.json chargé : {'roadmap': [], 'last_reinvestment': '2025-07-17T20:00:00'}
2025-07-17 21:02:52,629 INFO: Données Alpaca pour SPY :                             close      high       low  trade_count    open    volume        vwap
timestamp                                                                                       
2025-07-07 04:00:00+00:00  620.68  624.0300  617.8700       863317  623.36  74814505  620.762641
2025-07-08 04:00:00+00:00  620.34  622.1100  619.5200       675760  621.35  59024585  620.675955
2025-07-09 04:00:00+00:00  624.06  624.7200  620.9105       735000  622.77  66113326  622.946884
2025-07-10 04:00:00+00:00  625.82  626.8701  623.0100       648814  624.20  57527933  625.358699
2025-07-11 04:00:00+00:00  623.62  624.8600  621.5300       748955  622.74  63670226  623.809901
2025-07-14 04:00:00+00:00  624.81  625.1581  621.7999       626509  623.16  51898518  623.953909
2025-07-15 04:00:00+00:00  622.14  627.8600  622.0600       828422  627.52  74317260  624.382657
2025-07-16 04:00:00+00:00  624.22  624.7300  618.0500       961751  623.74  88964127  622.089769
2025-07-17 21:02:52,630 INFO: Rendements Alpaca pour SPY : [-0.00054779  0.00599671  0.00282024 -0.00351539  0.00190821 -0.0042733
  0.0033433 ]
2025-07-17 21:02:52,630 INFO: Rendements récupérés pour SPY : [-0.00054779  0.00599671  0.00282024 -0.00351539  0.00190821 -0.0042733
  0.0033433 ]
2025-07-17 21:02:52,762 INFO: Données Alpaca pour QQQ :                             close     high     low  trade_count    open    volume        vwap
timestamp                                                                                    
2025-07-07 04:00:00+00:00  552.03  554.340  549.58       616391  553.52  45349323  552.192844
2025-07-08 04:00:00+00:00  552.34  554.010  551.10       459631  553.38  36153258  552.575123
2025-07-09 04:00:00+00:00  556.25  557.630  553.10       473543  554.48  43045534  555.276324
2025-07-10 04:00:00+00:00  555.45  557.300  552.75       423925  556.89  34710913  555.049568
2025-07-11 04:00:00+00:00  554.20  555.790  552.05       447430  553.30  39618635  554.549577
2025-07-14 04:00:00+00:00  556.21  556.945  551.63       449013  553.99  36453314  555.240629
2025-07-15 04:00:00+00:00  556.72  560.800  556.66       509237  560.25  43277661  558.723832
2025-07-16 04:00:00+00:00  557.29  560.210  551.56       618661  557.28  52303155  555.578092
2025-07-17 21:02:52,763 INFO: Rendements Alpaca pour QQQ : [ 0.00056156  0.00707897 -0.0014382  -0.00225043  0.00362685  0.00091692
  0.00102385]
2025-07-17 21:02:52,763 INFO: Rendements récupérés pour QQQ : [ 0.00056156  0.00707897 -0.0014382  -0.00225043  0.00362685  0.00091692
  0.00102385]
2025-07-17 21:02:52,913 INFO: Données Alpaca pour IWM :                             close     high       low  trade_count    open    volume        vwap
timestamp                                                                                      
2025-07-07 04:00:00+00:00  219.73  222.820  218.4100       285317  221.57  41551196  220.487972
2025-07-08 04:00:00+00:00  221.25  222.290  220.3300       216284  220.58  36339315  221.344319
2025-07-09 04:00:00+00:00  223.65  223.690  221.1150       224758  222.57  32425152  222.536189
2025-07-10 04:00:00+00:00  224.80  226.050  222.8600       208348  223.39  33865385  224.805692
2025-07-11 04:00:00+00:00  221.70  223.540  221.5727       213505  223.17  31579641  222.360778
2025-07-14 04:00:00+00:00  223.19  223.335  221.0600       181951  221.37  24632248  222.443136
2025-07-15 04:00:00+00:00  218.82  224.230  218.7900       322014  224.07  44215375  220.854574
2025-07-16 04:00:00+00:00  221.02  221.365  216.9100       314329  220.22  48193694  219.603760
2025-07-17 21:02:52,914 INFO: Rendements Alpaca pour IWM : [ 0.00691758  0.01084746  0.00514196 -0.01379004  0.00672079 -0.01957973
  0.01005393]
2025-07-17 21:02:52,914 INFO: Rendements récupérés pour IWM : [ 0.00691758  0.01084746  0.00514196 -0.01379004  0.00672079 -0.01957973
  0.01005393]
2025-07-17 21:02:53,186 INFO: Données Alpaca pour AAPL :                             close    high     low  trade_count     open    volume        vwap
timestamp                                                                                    
2025-07-07 04:00:00+00:00  209.95  216.23  208.80       670324  212.680  50228984  211.178545
2025-07-08 04:00:00+00:00  210.01  211.43  208.45       512140  210.100  42848928  209.909746
2025-07-09 04:00:00+00:00  211.14  211.33  207.22       590796  209.530  48749367  209.522103
2025-07-10 04:00:00+00:00  212.41  213.48  210.03       545130  210.505  44443634  212.263512
2025-07-11 04:00:00+00:00  211.16  212.13  209.86       431665  210.565  39765812  211.018793
2025-07-14 04:00:00+00:00  208.62  210.91  207.54       525534  209.925  38840111  208.757364
2025-07-15 04:00:00+00:00  209.11  211.89  208.92       526311  209.220  42296339  210.153548
2025-07-16 04:00:00+00:00  210.16  212.40  208.64       535726  210.295  47483372  210.422945
2025-07-17 21:02:53,187 INFO: Rendements Alpaca pour AAPL : [ 0.00028578  0.0053807   0.00601497 -0.00588485 -0.01202879  0.00234877
  0.00502128]
2025-07-17 21:02:53,187 INFO: Rendements récupérés pour AAPL : [ 0.00028578  0.0053807   0.00601497 -0.00588485 -0.01202879  0.00234877
  0.00502128]
2025-07-17 21:02:53,187 INFO: performing request https://api-fxpractice.oanda.com/v3/accounts/101-004-6076373-001/pricing
2025-07-17 21:02:53,605 INFO: Prix Oanda pour EURUSD : close=1.15882, open=1.15858, rendement=[0.0002071501320582247]
2025-07-17 21:02:53,605 INFO: Rendements récupérés pour EURUSD : [0.0002071501320582247]
2025-07-17 21:02:53,606 INFO: performing request https://api-fxpractice.oanda.com/v3/accounts/101-004-6076373-001/pricing
2025-07-17 21:02:54,002 INFO: Prix Oanda pour GBPUSD : close=1.34154, open=1.34118, rendement=[0.000268420346262184]
2025-07-17 21:02:54,003 INFO: Rendements récupérés pour GBPUSD : [0.000268420346262184]
2025-07-17 21:02:54,003 INFO: performing request https://api-fxpractice.oanda.com/v3/accounts/101-004-6076373-001/pricing
2025-07-17 21:02:54,162 INFO: Prix Oanda pour USDJPY : close=148.745, open=148.718, rendement=[0.00018155166153401226]
2025-07-17 21:02:54,162 INFO: Rendements récupérés pour USDJPY : [0.00018155166153401226]
2025-07-17 21:02:54,162 INFO: performing request https://api-fxpractice.oanda.com/v3/accounts/101-004-6076373-001/pricing
2025-07-17 21:02:54,371 INFO: Prix Oanda pour XAUUSD : close=3338.92, open=3338.34, rendement=[0.00017373904395595632]
2025-07-17 21:02:54,372 INFO: Rendements récupérés pour XAUUSD : [0.00017373904395595632]
2025-07-17 21:02:54,372 INFO: performing request https://api-fxpractice.oanda.com/v3/accounts/101-004-6076373-001/pricing
2025-07-17 21:02:54,731 INFO: Prix Oanda pour UKOIL : close=67.653, open=67.568, rendement=[0.0012579919488516452]
2025-07-17 21:02:54,731 INFO: Rendements récupérés pour UKOIL : [0.0012579919488516452]
2025-07-17 21:02:54,731 INFO: performing request https://api-fxpractice.oanda.com/v3/accounts/101-004-6076373-001/pricing
2025-07-17 21:02:54,898 INFO: Prix Oanda pour NGAS : close=3.505, open=3.499, rendement=[0.0017147756501857054]
2025-07-17 21:02:54,898 INFO: Rendements récupérés pour NGAS : [0.0017147756501857054]
2025-07-17 21:02:55,317 INFO: Prix Kraken pour XETHZEUR : close=2963.89, open=2897.64, rendement=[0.022863433690865673]
2025-07-17 21:02:55,318 INFO: Rendements récupérés pour XETHZEUR : [0.022863433690865673]
2025-07-17 21:02:55,392 INFO: Prix Kraken pour USDCUSD : close=0.9998, open=0.9999, rendement=[-0.000100010001000089]
2025-07-17 21:02:55,393 INFO: Rendements récupérés pour USDCUSD : [-0.000100010001000089]
2025-07-17 21:02:55,393 ERROR: Erreur Kalman pour SPY : The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-07-17 21:02:55,393 ERROR: Erreur Kalman pour QQQ : The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-07-17 21:02:55,393 ERROR: Erreur Kalman pour IWM : The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-07-17 21:02:55,393 ERROR: Erreur Kalman pour AAPL : The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-07-17 21:02:55,393 INFO: Filtre de Kalman appliqué : [0.0002071501320582247]
2025-07-17 21:02:55,393 INFO: Rendements Kalman pour EURUSD : [0.0002071501320582247]
2025-07-17 21:02:55,393 INFO: Filtre de Kalman appliqué : [0.000268420346262184]
2025-07-17 21:02:55,393 INFO: Rendements Kalman pour GBPUSD : [0.000268420346262184]
2025-07-17 21:02:55,393 INFO: Filtre de Kalman appliqué : [0.00018155166153401226]
2025-07-17 21:02:55,393 INFO: Rendements Kalman pour USDJPY : [0.00018155166153401226]
2025-07-17 21:02:55,393 INFO: Filtre de Kalman appliqué : [0.00017373904395595632]
2025-07-17 21:02:55,393 INFO: Rendements Kalman pour XAUUSD : [0.00017373904395595632]
2025-07-17 21:02:55,393 INFO: Filtre de Kalman appliqué : [0.0012579919488516452]
2025-07-17 21:02:55,393 INFO: Rendements Kalman pour UKOIL : [0.0012579919488516452]
2025-07-17 21:02:55,393 INFO: Filtre de Kalman appliqué : [0.0017147756501857054]
2025-07-17 21:02:55,393 INFO: Rendements Kalman pour NGAS : [0.0017147756501857054]
2025-07-17 21:02:55,393 INFO: Filtre de Kalman appliqué : [0.022863433690865673]
2025-07-17 21:02:55,393 INFO: Rendements Kalman pour XETHZEUR : [0.022863433690865673]
2025-07-17 21:02:55,393 INFO: Filtre de Kalman appliqué : [-0.000100010001000089]
2025-07-17 21:02:55,393 INFO: Rendements Kalman pour USDCUSD : [-0.000100010001000089]
2025-07-17 21:02:55,615 INFO: Données Alpaca pour VXX :                            close    high     low  trade_count    open   volume       vwap
timestamp                                                                                
2025-07-07 04:00:00+00:00  48.14  48.970  47.820        59811  48.075  4525166  48.330601
2025-07-08 04:00:00+00:00  46.85  47.310  46.550        49506  47.130  3864340  46.927906
2025-07-09 04:00:00+00:00  45.26  46.195  45.230        48859  45.740  4529655  45.642419
2025-07-10 04:00:00+00:00  44.95  45.390  44.770        38252  45.090  3183876  45.036508
2025-07-11 04:00:00+00:00  45.20  46.020  44.690        43892  45.890  3455325  45.186474
2025-07-14 04:00:00+00:00  45.87  45.950  45.360        43872  45.670  3997384  45.723437
2025-07-15 04:00:00+00:00  45.61  45.670  44.835        60492  44.910  4746566  45.220292
2025-07-16 04:00:00+00:00  45.91  48.100  45.215        94929  45.480  8581529  46.439167
2025-07-17 21:02:55,616 INFO: Rendements Alpaca pour VXX : [-0.02679684 -0.0339381  -0.00684932  0.00556174  0.01482301 -0.00566819
  0.0065775 ]
2025-07-17 21:02:55,616 INFO: VXX récupéré : 0.006577504933128697
2025-07-17 21:02:55,617 INFO: Aucune opportunité pour SPY : dernier rendement 0.0
2025-07-17 21:02:55,617 INFO: Aucune allocation pour SPY
2025-07-17 21:02:55,617 INFO: Aucune opportunité pour QQQ : dernier rendement 0.0
2025-07-17 21:02:55,617 INFO: Aucune allocation pour QQQ
2025-07-17 21:02:55,617 INFO: Aucune opportunité pour IWM : dernier rendement 0.0
2025-07-17 21:02:55,617 INFO: Aucune allocation pour IWM
2025-07-17 21:02:55,617 INFO: Aucune opportunité pour AAPL : dernier rendement 0.0
2025-07-17 21:02:55,617 INFO: Aucune allocation pour AAPL
2025-07-17 21:02:55,617 INFO: Opportunité détectée pour EURUSD : {'asset': 'EURUSD', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:02:55,617 INFO: Allocation ajoutée pour EURUSD : {'asset': 'EURUSD', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:02:55,617 INFO: Opportunité détectée pour GBPUSD : {'asset': 'GBPUSD', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:02:55,617 INFO: Allocation ajoutée pour GBPUSD : {'asset': 'GBPUSD', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:02:55,617 INFO: Opportunité détectée pour USDJPY : {'asset': 'USDJPY', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:02:55,617 INFO: Allocation ajoutée pour USDJPY : {'asset': 'USDJPY', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:02:55,617 INFO: Opportunité détectée pour XAUUSD : {'asset': 'XAUUSD', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:02:55,617 INFO: Allocation ajoutée pour XAUUSD : {'asset': 'XAUUSD', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:02:55,618 INFO: Opportunité détectée pour UKOIL : {'asset': 'UKOIL', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:02:55,618 INFO: Allocation ajoutée pour UKOIL : {'asset': 'UKOIL', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:02:55,618 INFO: Opportunité détectée pour NGAS : {'asset': 'NGAS', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:02:55,618 INFO: Allocation ajoutée pour NGAS : {'asset': 'NGAS', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:02:55,618 INFO: Opportunité détectée pour XETHZEUR : {'asset': 'XETHZEUR', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:02:55,618 INFO: Allocation ajoutée pour XETHZEUR : {'asset': 'XETHZEUR', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:02:55,618 INFO: Aucune opportunité pour USDCUSD : dernier rendement -0.000100010001000089
2025-07-17 21:02:55,618 INFO: Aucune allocation pour USDCUSD
2025-07-17 21:02:55,618 INFO: Roadmap générée : [{'asset': 'EURUSD', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'GBPUSD', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'USDJPY', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'XAUUSD', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'UKOIL', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'NGAS', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'XETHZEUR', 'alloc': 0.1, 'position_type': 'buy'}]
2025-07-17 21:02:56,181 INFO: Portefeuille Alpaca : {'balance': 95832.12, 'portfolio_value': 100023.36}
2025-07-17 21:02:56,182 INFO: setting up API-client for environment practice
2025-07-17 21:02:56,182 INFO: performing request https://api-fxpractice.oanda.com/v3/accounts/101-004-6076373-001
2025-07-17 21:02:56,566 INFO: Portefeuille Oanda : {'balance': 75429.297, 'nav': 59069.5681}
2025-07-17 21:02:56,941 INFO: Portefeuille Kraken : {'balance': 0}
2025-07-17 21:02:56,944 INFO: Balance totale pour réinvestissement : 171261.41700000002 USD
2025-07-17 21:02:56,944 INFO: Réinvestissement réussi
2025-07-17 21:02:56,944 INFO: Envoi notification : 📊 Roadmap: [
  {
    "asset": "EURUSD",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "GBPUSD",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "USDJPY",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "XAUUSD",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "UKOIL",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "NGAS",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "XETHZEUR",
    "alloc": 0.1,
    "position_type": "buy"
  }
]
📈 Trades simulés (paper trading)
⚠️ Aucune garantie de profit, risques élevés (AMF conformité)
2025-07-17 21:02:57,224 INFO: HTTP Request: POST https://api.telegram.org/bot7878060308:AAEuqmOF_QUkJ95YWlarae55nz-dlHYbfP4/sendMessage "HTTP/1.1 200 OK"
2025-07-17 21:02:57,225 INFO: Notification envoyée : 📊 Roadmap: [
  {
    "asset": "EURUSD",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "GBPUSD",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "USDJPY",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "XAUUSD",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "UKOIL",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "NGAS",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "XETHZEUR",
    "alloc": 0.1,
    "position_type": "buy"
  }
]
📈 Trades simulés (paper trading)
⚠️ Aucune garantie de profit, risques élevés (AMF conformité)
2025-07-17 21:02:57,225 INFO: Roadmap envoyée : [{'asset': 'EURUSD', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'GBPUSD', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'USDJPY', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'XAUUSD', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'UKOIL', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'NGAS', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'XETHZEUR', 'alloc': 0.1, 'position_type': 'buy'}]
2025-07-17 21:02:57,226 INFO: strategies.json sauvegardé
2025-07-17 21:02:57,226 INFO: Heure actuelle : 2025-07-17 21:02:57.226332, Heure pré-marché : 07:00:00
2025-07-17 21:08:35,750 INFO: Début du script bot.py
2025-07-17 21:08:35,750 INFO: Importation des modules utils
2025-07-17 21:08:35,828 INFO: Connexion à l’API Alpaca réussie.
2025-07-17 21:08:35,828 INFO: setting up API-client for environment practice
2025-07-17 21:08:35,828 INFO: Connexion à l’API Oanda réussie.
2025-07-17 21:08:35,829 INFO: Connexion à l’API Kraken réussie.
2025-07-17 21:08:35,841 INFO: Modules utils importés avec succès
2025-07-17 21:08:35,841 INFO: Chargement des variables d’environnement
2025-07-17 21:08:35,847 INFO: Variables d’environnement chargées
2025-07-17 21:08:35,847 INFO: Vérification des variables Telegram
2025-07-17 21:08:35,847 INFO: Variables Telegram : token=7878..., channel_id=-1002755539359
2025-07-17 21:08:35,847 INFO: Initialisation du Bot Telegram
2025-07-17 21:08:35,923 INFO: Bot Telegram initialisé
2025-07-17 21:08:35,923 INFO: Lancement du bot
2025-07-17 21:08:35,923 INFO: Démarrage boucle principale
2025-07-17 21:08:35,923 INFO: Début de la génération de la roadmap
2025-07-17 21:08:35,923 INFO: strategies.json chargé : {'roadmap': [{'asset': 'EURUSD', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'GBPUSD', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'USDJPY', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'XAUUSD', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'UKOIL', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'NGAS', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'XETHZEUR', 'alloc': 0.1, 'position_type': 'buy'}], 'last_reinvestment': '2025-07-17T20:00:00'}
2025-07-17 21:08:36,725 INFO: Données Alpaca pour SPY :                             close      high       low  trade_count    open    volume        vwap
timestamp                                                                                       
2025-07-07 04:00:00+00:00  620.68  624.0300  617.8700       863317  623.36  74814505  620.762641
2025-07-08 04:00:00+00:00  620.34  622.1100  619.5200       675760  621.35  59024585  620.675955
2025-07-09 04:00:00+00:00  624.06  624.7200  620.9105       735000  622.77  66113326  622.946884
2025-07-10 04:00:00+00:00  625.82  626.8701  623.0100       648814  624.20  57527933  625.358699
2025-07-11 04:00:00+00:00  623.62  624.8600  621.5300       748955  622.74  63670226  623.809901
2025-07-14 04:00:00+00:00  624.81  625.1581  621.7999       626509  623.16  51898518  623.953909
2025-07-15 04:00:00+00:00  622.14  627.8600  622.0600       828422  627.52  74317260  624.382657
2025-07-16 04:00:00+00:00  624.22  624.7300  618.0500       961751  623.74  88964127  622.089769
2025-07-17 21:08:36,726 INFO: Rendements Alpaca pour SPY : [-0.00054779  0.00599671  0.00282024 -0.00351539  0.00190821 -0.0042733
  0.0033433 ]
2025-07-17 21:08:36,726 INFO: Rendements récupérés pour SPY : [-0.00054779  0.00599671  0.00282024 -0.00351539  0.00190821 -0.0042733
  0.0033433 ]
2025-07-17 21:08:36,945 INFO: Données Alpaca pour QQQ :                             close     high     low  trade_count    open    volume        vwap
timestamp                                                                                    
2025-07-07 04:00:00+00:00  552.03  554.340  549.58       616391  553.52  45349323  552.192844
2025-07-08 04:00:00+00:00  552.34  554.010  551.10       459631  553.38  36153258  552.575123
2025-07-09 04:00:00+00:00  556.25  557.630  553.10       473543  554.48  43045534  555.276324
2025-07-10 04:00:00+00:00  555.45  557.300  552.75       423925  556.89  34710913  555.049568
2025-07-11 04:00:00+00:00  554.20  555.790  552.05       447430  553.30  39618635  554.549577
2025-07-14 04:00:00+00:00  556.21  556.945  551.63       449013  553.99  36453314  555.240629
2025-07-15 04:00:00+00:00  556.72  560.800  556.66       509237  560.25  43277661  558.723832
2025-07-16 04:00:00+00:00  557.29  560.210  551.56       618661  557.28  52303155  555.578092
2025-07-17 21:08:36,946 INFO: Rendements Alpaca pour QQQ : [ 0.00056156  0.00707897 -0.0014382  -0.00225043  0.00362685  0.00091692
  0.00102385]
2025-07-17 21:08:36,946 INFO: Rendements récupérés pour QQQ : [ 0.00056156  0.00707897 -0.0014382  -0.00225043  0.00362685  0.00091692
  0.00102385]
2025-07-17 21:08:37,062 INFO: Données Alpaca pour IWM :                             close     high       low  trade_count    open    volume        vwap
timestamp                                                                                      
2025-07-07 04:00:00+00:00  219.73  222.820  218.4100       285317  221.57  41551196  220.487972
2025-07-08 04:00:00+00:00  221.25  222.290  220.3300       216284  220.58  36339315  221.344319
2025-07-09 04:00:00+00:00  223.65  223.690  221.1150       224758  222.57  32425152  222.536189
2025-07-10 04:00:00+00:00  224.80  226.050  222.8600       208348  223.39  33865385  224.805692
2025-07-11 04:00:00+00:00  221.70  223.540  221.5727       213505  223.17  31579641  222.360778
2025-07-14 04:00:00+00:00  223.19  223.335  221.0600       181951  221.37  24632248  222.443136
2025-07-15 04:00:00+00:00  218.82  224.230  218.7900       322014  224.07  44215375  220.854574
2025-07-16 04:00:00+00:00  221.02  221.365  216.9100       314329  220.22  48193694  219.603760
2025-07-17 21:08:37,063 INFO: Rendements Alpaca pour IWM : [ 0.00691758  0.01084746  0.00514196 -0.01379004  0.00672079 -0.01957973
  0.01005393]
2025-07-17 21:08:37,063 INFO: Rendements récupérés pour IWM : [ 0.00691758  0.01084746  0.00514196 -0.01379004  0.00672079 -0.01957973
  0.01005393]
2025-07-17 21:08:37,251 INFO: Données Alpaca pour AAPL :                             close    high     low  trade_count     open    volume        vwap
timestamp                                                                                    
2025-07-07 04:00:00+00:00  209.95  216.23  208.80       670324  212.680  50228984  211.178545
2025-07-08 04:00:00+00:00  210.01  211.43  208.45       512140  210.100  42848928  209.909746
2025-07-09 04:00:00+00:00  211.14  211.33  207.22       590796  209.530  48749367  209.522103
2025-07-10 04:00:00+00:00  212.41  213.48  210.03       545130  210.505  44443634  212.263512
2025-07-11 04:00:00+00:00  211.16  212.13  209.86       431665  210.565  39765812  211.018793
2025-07-14 04:00:00+00:00  208.62  210.91  207.54       525534  209.925  38840111  208.757364
2025-07-15 04:00:00+00:00  209.11  211.89  208.92       526311  209.220  42296339  210.153548
2025-07-16 04:00:00+00:00  210.16  212.40  208.64       535726  210.295  47483372  210.422945
2025-07-17 21:08:37,252 INFO: Rendements Alpaca pour AAPL : [ 0.00028578  0.0053807   0.00601497 -0.00588485 -0.01202879  0.00234877
  0.00502128]
2025-07-17 21:08:37,252 INFO: Rendements récupérés pour AAPL : [ 0.00028578  0.0053807   0.00601497 -0.00588485 -0.01202879  0.00234877
  0.00502128]
2025-07-17 21:08:37,252 INFO: performing request https://api-fxpractice.oanda.com/v3/accounts/101-004-6076373-001/pricing
2025-07-17 21:08:37,761 INFO: Prix Oanda pour EURUSD : close=1.15922, open=1.15896, rendement=[0.0002243390626077923]
2025-07-17 21:08:37,761 INFO: Rendements récupérés pour EURUSD : [0.0002243390626077923]
2025-07-17 21:08:37,761 INFO: performing request https://api-fxpractice.oanda.com/v3/accounts/101-004-6076373-001/pricing
2025-07-17 21:08:38,672 INFO: Prix Oanda pour GBPUSD : close=1.34182, open=1.34146, rendement=[0.00026836431947275055]
2025-07-17 21:08:38,673 INFO: Rendements récupérés pour GBPUSD : [0.00026836431947275055]
2025-07-17 21:08:38,673 INFO: performing request https://api-fxpractice.oanda.com/v3/accounts/101-004-6076373-001/pricing
2025-07-17 21:08:38,996 INFO: Prix Oanda pour USDJPY : close=148.701, open=148.678, rendement=[0.00015469672715530297]
2025-07-17 21:08:38,996 INFO: Rendements récupérés pour USDJPY : [0.00015469672715530297]
2025-07-17 21:08:38,996 INFO: performing request https://api-fxpractice.oanda.com/v3/accounts/101-004-6076373-001/pricing
2025-07-17 21:08:39,148 INFO: Prix Oanda pour XAUUSD : close=3340.19, open=3339.54, rendement=[0.00019463758481709785]
2025-07-17 21:08:39,148 INFO: Rendements récupérés pour XAUUSD : [0.00019463758481709785]
2025-07-17 21:08:39,148 INFO: performing request https://api-fxpractice.oanda.com/v3/accounts/101-004-6076373-001/pricing
2025-07-17 21:08:39,482 INFO: Prix Oanda pour UKOIL : close=67.662, open=67.567, rendement=[0.0014060118104994017]
2025-07-17 21:08:39,482 INFO: Rendements récupérés pour UKOIL : [0.0014060118104994017]
2025-07-17 21:08:39,482 INFO: performing request https://api-fxpractice.oanda.com/v3/accounts/101-004-6076373-001/pricing
2025-07-17 21:08:39,787 INFO: Prix Oanda pour NGAS : close=3.501, open=3.495, rendement=[0.0017167381974248306]
2025-07-17 21:08:39,787 INFO: Rendements récupérés pour NGAS : [0.0017167381974248306]
2025-07-17 21:08:40,430 INFO: Prix Kraken pour XETHZEUR : close=2967.41, open=2897.64, rendement=[0.024078215375270905]
2025-07-17 21:08:40,431 INFO: Rendements récupérés pour XETHZEUR : [0.024078215375270905]
2025-07-17 21:08:40,548 INFO: Prix Kraken pour USDCUSD : close=0.9998, open=0.9999, rendement=[-0.000100010001000089]
2025-07-17 21:08:40,548 INFO: Rendements récupérés pour USDCUSD : [-0.000100010001000089]
2025-07-17 21:08:40,548 ERROR: Erreur Kalman pour SPY : The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-07-17 21:08:40,548 ERROR: Erreur Kalman pour QQQ : The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-07-17 21:08:40,548 ERROR: Erreur Kalman pour IWM : The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-07-17 21:08:40,548 ERROR: Erreur Kalman pour AAPL : The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-07-17 21:08:40,548 INFO: Filtre de Kalman appliqué : [0.0002243390626077923]
2025-07-17 21:08:40,548 INFO: Rendements Kalman pour EURUSD : [0.0002243390626077923]
2025-07-17 21:08:40,548 INFO: Filtre de Kalman appliqué : [0.00026836431947275055]
2025-07-17 21:08:40,548 INFO: Rendements Kalman pour GBPUSD : [0.00026836431947275055]
2025-07-17 21:08:40,548 INFO: Filtre de Kalman appliqué : [0.00015469672715530297]
2025-07-17 21:08:40,548 INFO: Rendements Kalman pour USDJPY : [0.00015469672715530297]
2025-07-17 21:08:40,548 INFO: Filtre de Kalman appliqué : [0.00019463758481709785]
2025-07-17 21:08:40,548 INFO: Rendements Kalman pour XAUUSD : [0.00019463758481709785]
2025-07-17 21:08:40,548 INFO: Filtre de Kalman appliqué : [0.0014060118104994017]
2025-07-17 21:08:40,548 INFO: Rendements Kalman pour UKOIL : [0.0014060118104994017]
2025-07-17 21:08:40,548 INFO: Filtre de Kalman appliqué : [0.0017167381974248306]
2025-07-17 21:08:40,548 INFO: Rendements Kalman pour NGAS : [0.0017167381974248306]
2025-07-17 21:08:40,548 INFO: Filtre de Kalman appliqué : [0.024078215375270905]
2025-07-17 21:08:40,549 INFO: Rendements Kalman pour XETHZEUR : [0.024078215375270905]
2025-07-17 21:08:40,549 INFO: Filtre de Kalman appliqué : [-0.000100010001000089]
2025-07-17 21:08:40,549 INFO: Rendements Kalman pour USDCUSD : [-0.000100010001000089]
2025-07-17 21:08:40,747 INFO: Données Alpaca pour VXX :                            close    high     low  trade_count    open   volume       vwap
timestamp                                                                                
2025-07-07 04:00:00+00:00  48.14  48.970  47.820        59811  48.075  4525166  48.330601
2025-07-08 04:00:00+00:00  46.85  47.310  46.550        49506  47.130  3864340  46.927906
2025-07-09 04:00:00+00:00  45.26  46.195  45.230        48859  45.740  4529655  45.642419
2025-07-10 04:00:00+00:00  44.95  45.390  44.770        38252  45.090  3183876  45.036508
2025-07-11 04:00:00+00:00  45.20  46.020  44.690        43892  45.890  3455325  45.186474
2025-07-14 04:00:00+00:00  45.87  45.950  45.360        43872  45.670  3997384  45.723437
2025-07-15 04:00:00+00:00  45.61  45.670  44.835        60492  44.910  4746566  45.220292
2025-07-16 04:00:00+00:00  45.91  48.100  45.215        94929  45.480  8581529  46.439167
2025-07-17 21:08:40,748 INFO: Rendements Alpaca pour VXX : [-0.02679684 -0.0339381  -0.00684932  0.00556174  0.01482301 -0.00566819
  0.0065775 ]
2025-07-17 21:08:40,749 INFO: VXX récupéré : 0.006577504933128697
2025-07-17 21:08:40,749 INFO: Aucune opportunité pour SPY : dernier rendement 0.0
2025-07-17 21:08:40,749 INFO: Aucune allocation pour SPY
2025-07-17 21:08:40,749 INFO: Aucune opportunité pour QQQ : dernier rendement 0.0
2025-07-17 21:08:40,749 INFO: Aucune allocation pour QQQ
2025-07-17 21:08:40,749 INFO: Aucune opportunité pour IWM : dernier rendement 0.0
2025-07-17 21:08:40,749 INFO: Aucune allocation pour IWM
2025-07-17 21:08:40,749 INFO: Aucune opportunité pour AAPL : dernier rendement 0.0
2025-07-17 21:08:40,749 INFO: Aucune allocation pour AAPL
2025-07-17 21:08:40,749 INFO: Opportunité détectée pour EURUSD : {'asset': 'EURUSD', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:08:40,749 INFO: Allocation ajoutée pour EURUSD : {'asset': 'EURUSD', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:08:40,749 INFO: Opportunité détectée pour GBPUSD : {'asset': 'GBPUSD', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:08:40,749 INFO: Allocation ajoutée pour GBPUSD : {'asset': 'GBPUSD', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:08:40,749 INFO: Opportunité détectée pour USDJPY : {'asset': 'USDJPY', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:08:40,750 INFO: Allocation ajoutée pour USDJPY : {'asset': 'USDJPY', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:08:40,750 INFO: Opportunité détectée pour XAUUSD : {'asset': 'XAUUSD', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:08:40,750 INFO: Allocation ajoutée pour XAUUSD : {'asset': 'XAUUSD', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:08:40,750 INFO: Opportunité détectée pour UKOIL : {'asset': 'UKOIL', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:08:40,750 INFO: Allocation ajoutée pour UKOIL : {'asset': 'UKOIL', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:08:40,750 INFO: Opportunité détectée pour NGAS : {'asset': 'NGAS', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:08:40,750 INFO: Allocation ajoutée pour NGAS : {'asset': 'NGAS', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:08:40,750 INFO: Opportunité détectée pour XETHZEUR : {'asset': 'XETHZEUR', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:08:40,750 INFO: Allocation ajoutée pour XETHZEUR : {'asset': 'XETHZEUR', 'alloc': 0.1, 'position_type': 'buy'}
2025-07-17 21:08:40,750 INFO: Aucune opportunité pour USDCUSD : dernier rendement -0.000100010001000089
2025-07-17 21:08:40,750 INFO: Aucune allocation pour USDCUSD
2025-07-17 21:08:40,750 INFO: Roadmap générée : [{'asset': 'EURUSD', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'GBPUSD', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'USDJPY', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'XAUUSD', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'UKOIL', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'NGAS', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'XETHZEUR', 'alloc': 0.1, 'position_type': 'buy'}]
2025-07-17 21:08:41,241 INFO: Portefeuille Alpaca : {'balance': 95832.12, 'portfolio_value': 100023.41}
2025-07-17 21:08:41,242 INFO: setting up API-client for environment practice
2025-07-17 21:08:41,242 INFO: performing request https://api-fxpractice.oanda.com/v3/accounts/101-004-6076373-001
2025-07-17 21:08:41,691 INFO: Portefeuille Oanda : {'balance': 75429.297, 'nav': 59076.7163}
2025-07-17 21:08:42,003 INFO: Portefeuille Kraken : {'balance': 0}
2025-07-17 21:08:42,005 INFO: Balance totale pour réinvestissement : 171261.41700000002 USD
2025-07-17 21:08:42,005 INFO: Réinvestissement réussi
2025-07-17 21:08:42,006 INFO: Envoi notification : 📊 Roadmap: [
  {
    "asset": "EURUSD",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "GBPUSD",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "USDJPY",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "XAUUSD",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "UKOIL",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "NGAS",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "XETHZEUR",
    "alloc": 0.1,
    "position_type": "buy"
  }
]
📈 Trades simulés (paper trading)
⚠️ Aucune garantie de profit, risques élevés (AMF conformité)
2025-07-17 21:08:42,493 INFO: HTTP Request: POST https://api.telegram.org/bot7878060308:AAEuqmOF_QUkJ95YWlarae55nz-dlHYbfP4/sendMessage "HTTP/1.1 200 OK"
2025-07-17 21:08:42,495 INFO: Notification envoyée : 📊 Roadmap: [
  {
    "asset": "EURUSD",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "GBPUSD",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "USDJPY",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "XAUUSD",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "UKOIL",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "NGAS",
    "alloc": 0.1,
    "position_type": "buy"
  },
  {
    "asset": "XETHZEUR",
    "alloc": 0.1,
    "position_type": "buy"
  }
]
📈 Trades simulés (paper trading)
⚠️ Aucune garantie de profit, risques élevés (AMF conformité)
2025-07-17 21:08:42,495 INFO: Roadmap envoyée : [{'asset': 'EURUSD', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'GBPUSD', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'USDJPY', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'XAUUSD', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'UKOIL', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'NGAS', 'alloc': 0.1, 'position_type': 'buy'}, {'asset': 'XETHZEUR', 'alloc': 0.1, 'position_type': 'buy'}]
2025-07-17 21:08:42,495 INFO: strategies.json sauvegardé
2025-07-17 21:08:42,496 INFO: Heure actuelle : 2025-07-17 21:08:42.496060, Heure pré-marché : 07:00:00
